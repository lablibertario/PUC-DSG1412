# Aula 9

```Arduino
import processing.serial.*;
import cc.arduino.*;

Arduino arduino;

double maxRangeY = 1;
double minRangeY = 1024;
double rangeYNow = -100;

double maxRangeX = 1;
double minRangeX = 1024;
double rangeXNow = -100;

void setup() {  
  size(500, 500);
  
  print("Arduino ports list: ");
  print(Arduino.list() + ", ");
  
  arduino = new Arduino(this, Arduino.list()[0], 57600);
}

void draw() {
  background(255);
  
  updateRange();
  calculateFunction();
  
  fill(0);
  ellipse(width/2, height/2, (int)rangeXNow, (int)rangeYNow);
  
  stroke(100);
  ellipse(width/2, height/2, (int)minRangeX, (int)minRangeY);
}

void updateRange() {
  rangeYNow = arduino.analogRead(0);
  rangeXNow = arduino.analogRead(3);
  
  if(rangeYNow > maxRangeY)
    maxRangeY = rangeYNow;
    
  if(rangeYNow < minRangeY && minRangeY > 0)
    minRangeY = rangeYNow;
  
  if(rangeXNow > maxRangeX)
    maxRangeX = rangeXNow;
    
  if(rangeXNow < minRangeX && minRangeX > 0)
    minRangeX = rangeXNow;
  
  println("rangeYNow = " + rangeYNow);
  println("maxRangeY = " + maxRangeY);
  println("minRangeY = " + minRangeY);
  println("//////////////////////////////");
  println("rangeXNow = " + rangeXNow);
  println("maxRangeX = " + maxRangeX);
  println("minRangeX = " + minRangeX);
  println("//////////////////////////////");
}

void calculateFunction() {
  double min;
  double transformation;
  
  min = (height*minRangeY)/maxRangeY;
  transformation = minRangeY/min;
  //println(minHeight, "minHeight");
  //println(transformation, "transformation");
  rangeYNow = rangeYNow/transformation;
  
  min = (width*minRangeX)/maxRangeX;
  transformation = minRangeX/min;
  //println(minHeight, "minHeight");
  //println(transformation, "transformation");
  rangeXNow = rangeXNow/transformation;
}
```
